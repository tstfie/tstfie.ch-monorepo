---
export const prerender = true;

import { sanityClient } from "sanity:client";
import "../styles/base.css"
import "../styles/global.css"
import "../styles/normalise.css"

const d = new Date();
let year = d.getFullYear();

const latestProject = await sanityClient.fetch(`
  *[_type == "work"] | order(releaseDate desc)[0]{
  type,
  title,
  "slug": slug.current
  }
`);

const urlPrefix = latestProject.type === "Collection" ? "/designs/25-26/" : "/music/";
const latestUrl = `https://tstfie.ch${urlPrefix}${latestProject.slug}`;
---

<footer class="footer">
  <section class="footer-section">
    <div class="interaction-wrapper h5">
      <a href="https://tstfie.ch/music" class="cta">Music</a>
      <a href="https://tstfie.ch/contact" class="cta">Contact</a>
      <a href="https://tstfie.ch/about" class="cta">About</a>
      <a href="https://tstfie.ch/" class="cta">Home</a>
    </div>
  </section>
  <section class="footer-section">
    <div class="interaction-wrapper h5">
      <a href="https://tstfie.ch/signup" class="cta primary gold">Sign up</a>
      <a href={latestUrl} class="cta primary">Latest project</a>
    </div>
  </section>
  <section class="footer-section">
    <div class="interaction-wrapper h5">
      <div class="meta">Â© {year} Niklay Wiborny, tstfie</div>
    </div>
  </section>
  <section class="footer-section">
    <div class="interaction-wrapper h5">
      <a class ="meta" href="https://tstfie.ch/privacy" class="link">Privacy policy</a>
      <a class="meta" href="https://tstfie.ch/music/snippets" class="link">Snippets</a>
    </div>
  </section>
</footer>